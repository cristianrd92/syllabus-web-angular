<app-planificacion *ngIf="ramoSeleccionado" [planificacion]= "ramoSeleccionado"></app-planificacion>
<app-detalles *ngIf="ramoEstado" [ramoEstado]="ramoEstado"></app-detalles>

<div class="card mb-3">
  <div class="card-header">Ramos Docente</div>
  <div class="card-body text-secondary">
    <h5 class="card-title">Listado de Ramos Asignados a Docente</h5>
  <div class="my-2 text-left">
    <button *ngIf="authService.hasRole('ROLE_ADMIN')" type="button" class="btn btn-rounded btn-primary" [routerLink] = "['/ramosCarreras/form']">Crear ramo carrera</button>
  </div>
  <table class="table table-bordered table-striped" >
      <thead>
        <tr>
          <th>Carrera</th>
          <th>Codigo ramo</th>
          <th>Ramo</th>
          <th>Periodo</th>
          <th>Subir</th>
          <th>Estado Syllabus</th>
          <th>Descargar Syllabus</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let planificacion of planificaciones; index as i">
          <td>{{planificacion.ramo_carrera.carrera.nombre_carrera | uppercase}}</td>
          <td>{{planificacion.ramo_carrera.ramo.codigo_ramo | uppercase}}</td>
          <td>{{planificacion.ramo_carrera.ramo.nombre_ramo | uppercase}}</td>
          <td>{{planificacion.ramo_carrera.periodo.nombre_periodo | uppercase}}</td>
          <td *ngIf="planificacion.re_estado==null"><button  (click)="abrirModal(planificacion.ramo_carrera)"  type="button" name="editar" class="btn btn-primary">Subir</button></td>          
          <td *ngIf="planificacion.re_estado!=null"><button  (click)="abrirModal(planificacion.ramo_carrera)"  disabled type="button" name="editar" class="btn btn-primary">Subir</button></td>          
          <td *ngIf="planificacion.pla_fecha_subida==null">No subido</td>
          <td *ngIf="planificacion.pla_fecha_subida!=null && planificacion.re_estado==null">Enviado para revisi√≥n </td>
          <td *ngIf="planificacion.pla_fecha_subida!=null && planificacion.re_estado!=null">{{planificacion.re_estado}} <button (click)="abrirModalDetalles(planificacion)"  type="button" name="editar" class="btn btn-primary">Ver detalles</button></td>
          <td *ngIf="planificacion.pla_fecha_subida!=null" ><a (click)="showPDF(planificacion.pla_ruta)" ><fa-icon [icon]="faFile"></fa-icon> Subido el: {{planificacion.pla_fecha_subida | date:"EEEE dd MMMM yyyy HH:mm"}}</a></td>
          <td *ngIf="planificacion.pla_fecha_subida==null">No subido</td>
        </tr>
      </tbody>
    </table>
  </div> 
</div>
